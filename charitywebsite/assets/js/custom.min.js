"use strict"
!function(e){function o(o){if(e("#banner-line").length){var n=e(o),a=n.find(".js-search-form")
new app.Vivus("banner-line",{type:"async",start:"autostart",ignoreInvisible:!1,duration:50},function(){var o=e("#banner-line").closest(".slider__item")
o.hasClass("slick-slide")&&!o.hasClass("slick-active")||(n.find(".js-arrow-end").css({opacity:1}),a.addClass("form--anim"))})}}function n(o){var n=e(o)
n.length&&n.each(function(){var o=e(this),n=o.find(".js-slick-current"),a=o.find(".js-slick-total")
o.find(".js-slick-slider").on("init",function(e,o){a.html(o.slideCount)}).slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!1,prevArrow:o.find(".js-slick-prev"),nextArrow:o.find(".js-slick-next")}).on("afterChange",function(e,o,a){n.html(a+1+" /")})})}function a(o,n){var a=e(o)
if(a.length){var t=e(".js-map-btn"),i=a.find(".js-map")
app.createMap(i,t,function(){function o(e){p?p.setPosition(e):r(e.lat(),e.lng()),l(e.lat(),e.lng()),n(e)}function n(e){f.geocode({latLng:e},function(e,o){o==google.maps.GeocoderStatus.OK?e[0]?g[0].value=e[0].formatted_address:g[0].value="No results":g[0].value=o})}function t(){var e=v.getPlace()
if(e.geometry){if(d.panTo(e.geometry.location),d.setZoom(15),p){var o=new google.maps.LatLng(e.geometry.location.A,e.geometry.location.F)
p.setPosition(o)}else r(e.geometry.location.A,e.geometry.location.F)
l(e.geometry.location.A,e.geometry.location.F)}else v.placeholder="Enter a address"}function r(e,n){var a=new google.maps.LatLng(e,n)
p=app.createGmapMarker.createAdvanced({position:a,map:d,draggable:!0}),google.maps.event.addListener(p,"dragend",function(){o(p.getPosition())})}function l(e,o){u[0].value=e,u[1].value=o}function c(){for(var e=0;e<overlays.length;e++)overlays[e].overlay.setMap(null)
overlays=[]}var d,p,f,g=a.find(".js-autocomplete"),u=a.find(".js-location-coords"),m=a.find(".js-remove-overlays")
f=new google.maps.Geocoder,d=new google.maps.Map(i[0],s),google.maps.event.addListener(d,"click",function(e){o(e.latLng)}),app.geolocation.activate(d,{buttonTrigger:a.find(".js-geolocate"),onSuccess:function(e){o(e)}})
var v=new google.maps.places.Autocomplete(g[0],s.autocomplete)
google.maps.event.addListener(v,"place_changed",t),g.on("keypress",function(e){if(13==e.keyCode)return!1})
var h=new google.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,drawingModes:[google.maps.drawing.OverlayType.POLYGON]}})
h.setMap(d),google.maps.event.addListener(h,"overlaycomplete",function(e){overlays.push(e)}),u.on("input",function(o){if(e.isNumeric(u[0].value())&&e.isNumeric(u[1].value())){var a=new google.maps.LatLng(u[0].value(),u[1].value())
if(p?p.setPosition(a):r(a.lat(),a.lng()),d.panTo(a),n(a),13==o.keyCode)return!1}}),m.on("click",function(){c()})})}}function t(e){var o
return o="assets/media-demo/properties/277x180/"+e.image+".jpg","<span class='map__address'>"+e.address+"</span> <span class='map__info'><img  class='map__photo' src='"+o+"'/><span class='map__details'> <dl><dt>Type:</dt> <dd>"+e.type+"</dd></dl><dl><dt>Area:</dt> <dd>"+e.area+" m2</dd></dl><dl><dt>Bedrooms:</dt> <dd>"+e.bedrooms+"</dd></dl></span></span> <span class='map__price'><strong>$"+e.price+"</strong></span> <a  class='map__more' href='property_details.html'>Details</a>"}app.initTheme({colorTheme:"default",loadSvgWithAjax:!1}),app.activateHeaderSpy(),app.activateScrollToTopSpy(),app.scrollAnimation()
var s={zoom:10,center:new google.maps.LatLng(33.74229160384012,-117.86845207214355),scrollwheel:!1,zoomControl:!0,mapTypeControl:!0,autocomplete:{componentRestrictions:{country:"us"}},mapTypeControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}
!function(o){e(o).length&&plyr.setup()}(".player"),function(o){var n=e(o)
n.length&&n.find(".js-slick-slider").slick({dots:!1,infinite:!0,speed:300,slidesToShow:5,autoplay:!0,accessibility:!1,prevArrow:n.find(".js-partners-prev"),nextArrow:n.find(".js-partners-next"),responsive:[{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:1e3,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:1}}]})}("#partners-slider"),function(o){var n=e(o),a=e(".widget select")
n.length&&n.select2({width:"100%"}),a.length&&a.select2({width:"100%"})}("select.form-control"),function(o){e(o).length&&app.createPhotoSwipe(o,{})}(".js-gallery-item"),function(o){var n=e(o)
n.length&&n.parsley().on("form:success",function(e){return app.notifier.showSuccess("You have been successfully subscribed!"),!1}).on("form:error",function(e){return app.notifier.showError("Subscription failed! Please try again."),!1})}(".js-subscribe-form"),function(o){var n=e(o)
n.length&&n.find(".js-slick-slider").slick({dots:!0,infinite:!0,speed:800,slidesToShow:1,autoplay:!0,autoplaySpeed:5e3})}("#review-slider"),function(n){function a(){c||"lg"===app.gridSize.get()&&requestAnimationFrame(function(){r.hasClass("navbar--overlay")&&(i.addClass("header--white"),r.addClass("navbar--overlay-map")),l.addClass("opened"),s.addClass("form--white"),c=!0})}var t=e(n)
if(t.length){var s=t.find(".js-search-form"),i=e(".header"),r=e("#header-nav"),l=t.find(".map")
t.addClass("banner--play"),s.on("formChange",_.throttle(a,500)),o(n),initIndexMap(".js-map-index-canvas")
var c=!1}}(".js-banner"),function(o){var n=e(o)
if(n.length){var a=n.find(".js-slick-slider")
a.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,lazyLoad:"progressive",prevArrow:n.find(".js-banner-prev"),nextArrow:n.find(".js-banner-next"),responsive:[{breakpoint:1300,settings:{centerMode:!1,variableWidth:!1,arrows:!0}}]}),a.on("setPosition",function(e,o){n.addClass("slider--init")})}}("#slider-wide"),function(o){"xs"!==app.gridSize.get()&&e(o).find(".js-slick-slider").slick({dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:600,slidesToShow:1,lazyLoad:"progressive",accessibility:!1,arrows:!1,focusOnSelect:!1})}(".js-banner-slider"),function(o){var n=e(o)
if(n.length){var a,t
n.each(function(){var o=e(this),n=o.find(".js-slick-slider"),s=o.siblings(".slider")
a=s.find(".js-slick-slider"),n.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!1,arrows:!1,accessibility:!1,fade:!0}),t=a.html(),a.slick({slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,arrows:!0,accessibility:!1,centerMode:!0,centerPadding:0,prevArrow:s.find(".js-slick-prev"),nextArrow:s.find(".js-slick-next"),responsive:[{breakpoint:768,settings:{slidesToShow:3}}]})
var i,r=e(".js-slider-category")
r.on("click",function(){r.removeClass("active"),e(this).addClass("active")
var o,s=e(this).data("filter")
a.slick("slickRemove",!0,!0,!0),o="all"===s?t:e(t).filter(".slider__item--"+s),a.slick("slickAdd",o),i=a.find(".slick-current").data("slide-rel"),n.slick("slickGoTo",i,!1)}),a.on("afterChange",function(e,o,t,s){i=a.find(".slick-current").data("slide-rel"),n.slick("slickGoTo",i,!1)}).on("click",".slider__item",function(){var o=e(this)
i=e(o).data("slide-rel"),n.slick("slickGoTo",i,!1)})})}}(".js-slider-thumbs"),n(".js-slick-blog"),n(".js-slick-plan"),n("#counter-slider"),function(o,n){var a=e(o)
a.length&&function(){var o=new google.maps.LatLng(n.lat,n.lng),t=e(".js-map-btn")
app.createMap(a,t,function(){var e=new google.maps.Map(a[0],_.merge(s,{zoom:7,coordinates:o}))
app.createGmapMarker.create(e,o,n.address)})}()}(".js-map-canvas-contact",window.demodata[3]),function(o){var n=e(o)
n.length&&n.on("click",function(){var o=e(this),n=o.data("state")||"success"
return o.addClass("loading"),setTimeout(function(){o.addClass("progress")},500),setTimeout(function(){o.removeClass("loading"),o.removeClass("progress"),o.addClass(n)},1e3),!1})}(".js-btn-demo"),function(o){var n=e(o)
n.length&&n.popover()}(".js-popover"),a(".js-map-location-dashboard-submit",{lat:37.7749295,lng:-122.41941550000001}),a(".js-map-location-dashboard",{lat:37.7749295,lng:-122.41941550000001}),a(".js-map-location-dashboard-hidden",{lat:37.7749295,lng:-122.41941550000001}),function(o,n){var a=e(o)
if(a.length){var s,i=new L.LatLng(33.74229160384012,-117.86845207214355),r=!1
app.createMap(a,e(".js-map-btn"),function(){r?s.invalidateSize():(s=L.map(a[0],_.merge({zoom:10,center:i,zoomControl:!1,scrollWheelZoom:!1})),L.tileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}).addTo(s),L.control.zoom({position:"topright"}).addTo(s),s.invalidateSize(),_.each(n,function(e){var o=t(e)
app.createLeafletInfoboxMarker(s,new L.LatLng(e.lat,e.lng),e.address,o,a.data("infoboxTheme"))})),r=!0})}}(".js-map-canvas-leaflet",window.demodata),function(){0!==e(".js-form-property-1").length&&e(".js-form-property-1").parsley().on("form:success",function(o){return app.notifier.showSuccess("You have successfully submit the form! 1"),e('.form-property--dashboard a[href="#Location"]').tab("show"),!1}).on("form:error",function(e){return app.notifier.showError("Submited failed! Please try again. 2"),!1}).on("form:submit",function(e){console.log(arguments),e.submitEvent.preventDefault()})}()}(jQuery)
